<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PeliZone - CatÃ¡logo Premium</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #141414;
            --card-bg: #1f1f1f;
            --accent: #e50914;
            --green: #46d369;
            --blue: #007bff;
            --text: #ffffff;
            --gold: #ffd700;
        }

        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            padding-bottom: 120px;
        }

        .info-banner {
            background: rgba(70, 211, 105, 0.15);
            border-bottom: 1px solid var(--green);
            color: var(--green);
            padding: 10px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: bold;
        }

        header {
            text-align: center;
            padding: 2rem 1rem;
            background: linear-gradient(to bottom, #000, transparent);
        }

        h1 { margin: 0; font-size: 2.5rem; letter-spacing: -1px; }
        .subtitle { color: #aaa; font-size: 1rem; margin-top: 5px; }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px;
        }

        .section-header {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-top: 20px;
            border-top: 1px solid #333;
        }
        .section-header h2 { font-size: 1.8rem; margin-bottom: 5px; color: var(--text); }
        .section-header p { color: #888; font-size: 0.9rem; margin: 0; }

        /* TARJETAS */
        .card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid #333;
            transition: 0.3s;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card:hover { transform: translateY(-5px); border-color: #555; box-shadow: 0 10px 20px rgba(0,0,0,0.5); }
        .netflix-combo { border: 1px solid var(--accent); }

        .card img {
            width: 70px;
            height: 70px;
            object-fit: contain;
            margin: 0 auto 10px auto;
        }

        .card h3 { font-size: 1rem; margin: 5px 0; min-height: 40px; display: flex; align-items: center; justify-content: center;}

        .price-tag {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--green);
            margin: 10px 0;
        }

        .duracion { font-size: 0.8rem; color: #888; margin-bottom: 10px; }

        .btn-add {
            background: transparent;
            border: 1px solid var(--green);
            color: var(--green);
            padding: 8px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            transition: 0.2s;
        }
        .btn-add:hover { background: var(--green); color: #000; }

        .btn-buy-now {
            background: var(--blue);
            border: none;
            color: white;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        .btn-buy-now:hover { background: #0056b3; }

        .combo-badge {
            background: #333;
            color: #fff;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.7rem;
            margin-bottom: 10px;
            display: inline-block;
        }

        /* CARRITO FLOTANTE */
        .cart-bar {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #222;
            border: 1px solid #444;
            color: white;
            padding: 12px 25px;
            border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.9);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 90%;
            max-width: 400px;
            cursor: pointer;
        }

        /* MODAL */
        .cart-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .cart-content {
            background: #1f1f1f;
            width: 90%;
            max-width: 350px;
            border-radius: 15px;
            padding: 25px;
            position: relative;
        }

        .close-btn { position: absolute; right: 15px; top: 10px; font-size: 1.5rem; cursor: pointer; }

        /* Estilos de SelecciÃ³n de Pago */
        .payment-section {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border: 1px solid #333;
        }
        
        .payment-title {
            font-size: 0.9rem;
            color: var(--gold);
            margin-bottom: 10px;
            font-weight: bold;
        }

        .radio-option {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .radio-option input { margin-right: 10px; accent-color: var(--green); transform: scale(1.2); }

    </style>
</head>
<body>

    <div class="info-banner">
        ðŸ”’ GarantÃ­a Total | Tu eliges como pagar
    </div>

    <header>
        <h1>PeliZone</h1>
        <p class="subtitle">Streaming Premium al Mejor Precio</p>
    </header>

    <div class="section-header">
        <h2>ðŸ“± Armar Paquete Personalizado</h2>
        <p>Agrega servicios al carrito y crea tu combinaciÃ³n</p>
    </div>
    
    <section class="container">
        <div class="card">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/2560px-YouTube_full-color_icon_%282017%29.svg.png">
            <h3>YouTube Premium</h3>
            <div class="price-tag">$10.000</div>
            <div class="duracion">30 DÃ­as â€¢ Sin Anuncios</div>
            <button class="btn-add" onclick="agregar('YouTube Premium')">+ Carrito</button>
        </div>

        <div class="card" style="border-color: var(--accent);">
            <img src="https://images.icon-icons.com/2699/PNG/512/netflix_logo_icon_170919.png">
            <h3>Netflix</h3>
            <div class="price-tag">$15.000</div>
            <div class="duracion">30 DÃ­as â€¢ 4K UHD</div>
            <button class="btn-add" onclick="agregar('Netflix')">+ Carrito</button>
        </div>

        <div class="card">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Disney%2B_logo.svg/1200px-Disney%2B_logo.svg.png">
            <h3>Disney+</h3>
            <div class="price-tag">$7.000</div>
            <div class="duracion">30 DÃ­as â€¢ Premium</div>
            <button class="btn-add" onclick="agregar('Disney+')">+ Carrito</button>
        </div>

        <div class="card">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Max_logo.svg/2560px-Max_logo.svg.png">
            <h3>HBO Max</h3>
            <div class="price-tag">$7.000</div>
            <div class="duracion">30 DÃ­as â€¢ Series Top</div>
            <button class="btn-add" onclick="agregar('HBO Max')">+ Carrito</button>
        </div>

        <div class="card">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Amazon_Prime_Video_logo.svg/1200px-Amazon_Prime_Video_logo.svg.png">
            <h3>Prime Video</h3>
            <div class="price-tag">$7.000</div>
            <div class="duracion">30 DÃ­as â€¢ PelÃ­culas</div>
            <button class="btn-add" onclick="agregar('Prime Video')">+ Carrito</button>
        </div>

        <div class="card">
            <img src="https://es.wikipedia.org/wiki/Archivo:Paramount_Pictures_Corporation_logo.svg">
            <h3>Paramount+</h3>
            <div class="price-tag">$7.000</div>
            <div class="duracion">30 DÃ­as â€¢ Exclusivo</div>
            <button class="btn-add" onclick="agregar('Paramount+')">+ Carrito</button>
        </div>

        <div class="card">
            <img src="https://es.wikipedia.org/wiki/Archivo:ViX_Logo.svg">
            <h3>Vix+</h3>
            <div class="price-tag">$7.000</div>
            <div class="duracion">30 DÃ­as â€¢ Deportes</div>
            <button class="btn-add" onclick="agregar('Vix+')">+ Carrito</button>
        </div>

        <div class="card">
            <img src="https://www.pngegg.com/es/png-vejik">
            <h3>Crunchyroll</h3>
            <div class="price-tag">$7.000</div>
            <div class="duracion">30 DÃ­as â€¢ Anime</div>
            <button class="btn-add" onclick="agregar('Crunchyroll')">+ Carrito</button>
        </div>
    </section>

    <div class="section-header">
        <h2>ðŸ”¥ Combos Populares</h2>
        <p>Elige tu pack, selecciona mÃ©todo de pago y compra</p>
    </div>

    <section class="container">

        <div class="card">
            <span class="combo-badge">Ahorro</span>
            <h3>Prime + Max</h3>
            <div class="price-tag">$13.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo: Prime + Max', 13000)">ðŸ›’ Comprar</button>
        </div>
        <div class="card">
            <span class="combo-badge">Ahorro</span>
            <h3>Prime + Disney+</h3>
            <div class="price-tag">$13.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo: Prime + Disney', 13000)">ðŸ›’ Comprar</button>
        </div>
        <div class="card">
            <span class="combo-badge">Ahorro</span>
            <h3>Max + Disney+</h3>
            <div class="price-tag">$13.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo: Max + Disney', 13000)">ðŸ›’ Comprar</button>
        </div>

        <div class="card" style="border-color: var(--gold);">
            <span class="combo-badge" style="background:var(--gold); color:#000;">Recomendado</span>
            <h3>Prime + Max + Disney</h3>
            <div class="price-tag">$17.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo: Prime + Max + Disney', 17000)">ðŸ›’ Comprar</button>
        </div>

        <div class="card netflix-combo">
            <span class="combo-badge" style="background:var(--accent);">Con Netflix</span>
            <h3>Netflix + Prime</h3>
            <div class="price-tag">$18.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo: Netflix + Prime', 18000)">ðŸ›’ Comprar</button>
        </div>
        <div class="card netflix-combo">
            <span class="combo-badge" style="background:var(--accent);">Con Netflix</span>
            <h3>Netflix + Max</h3>
            <div class="price-tag">$18.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo: Netflix + Max', 18000)">ðŸ›’ Comprar</button>
        </div>
        <div class="card netflix-combo">
            <span class="combo-badge" style="background:var(--accent);">Con Netflix</span>
            <h3>Netflix + Disney+</h3>
            <div class="price-tag">$18.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo: Netflix + Disney', 18000)">ðŸ›’ Comprar</button>
        </div>

        <div class="card" style="border-color: var(--gold);">
            <span class="combo-badge" style="background:var(--gold); color:#000;">Pack x4</span>
            <h3>Prime+Max+Dis+Vix</h3>
            <div class="price-tag">$20.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo 4 Apps: Prime+Max+Dis+Vix', 20000)">ðŸ›’ Comprar</button>
        </div>

        <div class="card netflix-combo">
            <span class="combo-badge" style="background:var(--accent);">Triple Net</span>
            <h3>Net + Prime + Max</h3>
            <div class="price-tag">$22.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo Triple: Net + Prime + Max', 22000)">ðŸ›’ Comprar</button>
        </div>
        <div class="card netflix-combo">
            <span class="combo-badge" style="background:var(--accent);">Triple Net</span>
            <h3>Net + Max + Disney</h3>
            <div class="price-tag">$22.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo Triple: Net + Max + Disney', 22000)">ðŸ›’ Comprar</button>
        </div>
        <div class="card netflix-combo">
            <span class="combo-badge" style="background:var(--accent);">Triple Net</span>
            <h3>Net + Prime + Disney</h3>
            <div class="price-tag">$22.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo Triple: Net + Prime + Disney', 22000)">ðŸ›’ Comprar</button>
        </div>

        <div class="card netflix-combo" style="grid-column: 1 / -1; background: linear-gradient(145deg, #300000, #1f1f1f);">
            <span class="combo-badge" style="background:#fff; color:#000;">ðŸ‘‘ EL SUPREMO</span>
            <h3>Netflix + Prime + Max + Disney+</h3>
            <div class="price-tag">$26.000</div>
            <button class="btn-buy-now" onclick="abrirModalCompraDirecta('Combo SUPREMO: Net+Prime+Max+Dis', 26000)">ðŸ›’ Comprar Ahora</button>
        </div>

    </section>

    <div class="cart-bar" onclick="abrirModalCarrito()">
        <div>
            <span style="font-size:0.7rem; color:#aaa;">Armado Personalizado:</span>
            <div id="totalBarra" style="font-weight:bold; color:var(--green);">$0</div>
        </div>
        <div style="background:var(--green); color:#000; padding:5px 15px; border-radius:20px; font-weight:bold; font-size:0.9rem;">
            Ver Carrito (<span id="contadorItems">0</span>)
        </div>
    </div>

    <div class="cart-modal" id="modalCheckout">
        <div class="cart-content">
            <span class="close-btn" onclick="cerrarModal()">&times;</span>
            
            <h3 style="text-align:center;" id="modalTitle">Confirmar Pedido</h3>
            
            <div id="modalBody" style="margin:15px 0; max-height:150px; overflow-y:auto; border-bottom:1px solid #333; padding-bottom:10px;"></div>
            
            <div style="display:flex; justify-content:space-between; font-weight:bold; font-size:1.2rem; margin-bottom:15px;">
                <span>Total a Pagar:</span>
                <span id="modalTotal" style="color:var(--green);">$0</span>
            </div>
            
            <div class="payment-section">
                <div class="payment-title">ðŸ’³ Â¿CÃ³mo deseas pagar?</div>
                <label class="radio-option">
                    <input type="radio" name="metodoPago" value="50/50" checked>
                    <span><strong>50% / 50%</strong> (Paga la mitad y el resto al recibir)</span>
                </label>
                <label class="radio-option">
                    <input type="radio" name="metodoPago" value="Completo">
                    <span><strong>Pago Completo</strong> (Pagar todo de una vez)</span>
                </label>
            </div>

            <button class="btn-buy-now" onclick="finalizarCompra()" style="background:#25D366;">ðŸ“² Enviar Pedido por WhatsApp</button>
        </div>
    </div>

    <script>
        const telefono = "573022346315";
        let carrito = [];
        
        // Variables para controlar si es compra directa o de carrito
        let modoCompra = 'carrito'; // 'carrito' o 'directo'
        let itemDirecto = null;
        let precioDirecto = 0;

        // --- 1. LÃ“GICA DE PRECIOS ---
        function calcularTotal(serviciosSeleccionados) {
            let servicios = serviciosSeleccionados.map(s => s.toLowerCase().trim());
            let youtubeCount = servicios.filter(s => s.includes('youtube')).length;
            let serviciosCombo = servicios.filter(s => !s.includes('youtube'));
            let tieneNetflix = serviciosCombo.some(s => s.includes('netflix'));
            let cantidadExtra = serviciosCombo.length;
            if (tieneNetflix) cantidadExtra -= 1;

            let precioFinal = 0;
            if (tieneNetflix) {
                if (cantidadExtra === 0) precioFinal = 15000;
                else if (cantidadExtra === 1) precioFinal = 18000;
                else if (cantidadExtra === 2) precioFinal = 22000;
                else if (cantidadExtra === 3) precioFinal = 26000;
                else if (cantidadExtra >= 4) precioFinal = 30000;
            } else {
                if (cantidadExtra === 0) precioFinal = 0;
                else if (cantidadExtra === 1) precioFinal = 7000;
                else if (cantidadExtra === 2) precioFinal = 13000;
                else if (cantidadExtra === 3) precioFinal = 17000;
                else if (cantidadExtra === 4) precioFinal = 20000;
                else if (cantidadExtra > 4) precioFinal = 20000 + ((cantidadExtra-4)*7000);
            }
            return precioFinal + (youtubeCount * 10000);
        }

        // --- 2. FUNCIONES DEL CARRITO ---
        function agregar(nombre) {
            carrito.push(nombre);
            actualizarBarra();
        }

        function quitar(index) {
            carrito.splice(index, 1);
            actualizarBarra();
            // Si el modal estÃ¡ abierto, actualizamos la lista visualmente
            if(document.getElementById('modalCheckout').style.display === 'flex' && modoCompra === 'carrito'){
                renderizarModalCarrito();
            }
        }

        function actualizarBarra() {
            let total = calcularTotal(carrito);
            document.getElementById('totalBarra').innerText = "$" + total.toLocaleString('es-CO');
            document.getElementById('contadorItems').innerText = carrito.length;
        }

        // --- 3. MODALES Y FLUJO DE COMPRA ---

        // A. Abrir modal para Carrito
        function abrirModalCarrito() {
            if(carrito.length === 0) return alert("El carrito estÃ¡ vacÃ­o.");
            modoCompra = 'carrito';
            document.getElementById('modalTitle').innerText = "Tu Carrito Personalizado";
            renderizarModalCarrito();
            document.getElementById('modalCheckout').style.display = 'flex';
        }

        function renderizarModalCarrito() {
            let html = "";
            carrito.forEach((item, index) => {
                html += `<div style="display:flex; justify-content:space-between; padding:5px 0;">
                    <span>${item}</span>
                    <span style="color:red; cursor:pointer;" onclick="quitar(${index})">x</span>
                </div>`;
            });
            document.getElementById('modalBody').innerHTML = html;
            
            let total = calcularTotal(carrito);
            document.getElementById('modalTotal').innerText = "$" + total.toLocaleString('es-CO');
        }

        // B. Abrir modal para Compra Directa (Combo)
        function abrirModalCompraDirecta(nombre, precio) {
            modoCompra = 'directo';
            itemDirecto = nombre;
            precioDirecto = precio;

            document.getElementById('modalTitle').innerText = "Confirmar Combo";
            document.getElementById('modalBody').innerHTML = `<p style="font-size:1.1rem; text-align:center;">ðŸš€ <strong>${nombre}</strong></p>`;
            document.getElementById('modalTotal').innerText = "$" + precio.toLocaleString('es-CO');
            
            document.getElementById('modalCheckout').style.display = 'flex';
        }

        function cerrarModal() {
            document.getElementById('modalCheckout').style.display = 'none';
        }

        // C. FINALIZAR COMPRA (ENVÃO A WHATSAPP)
        function finalizarCompra() {
            // 1. Obtener mÃ©todo de pago seleccionado
            let metodoPago = document.querySelector('input[name="metodoPago"]:checked').value;
            let textoPago = "";
            
            if (metodoPago === "50/50") {
                textoPago = "ðŸ¤ Deseo pagar con modalidad 50% / 50%.";
            } else {
                textoPago = "ðŸ’³ Deseo realizar el Pago Completo de inmediato.";
            }

            let mensaje = "";
            let totalFinal = "";

            if (modoCompra === 'carrito') {
                if(carrito.length === 0) return;
                mensaje = "Hola ðŸ‘‹, quiero pedir mi paquete personalizado:\n\n";
                carrito.forEach(i => mensaje += `- ${i}\n`);
                totalFinal = document.getElementById('modalTotal').innerText;
                mensaje += `\nðŸ’° *Total Calculado: ${totalFinal}*`;
            
            } else if (modoCompra === 'directo') {
                mensaje = `Hola ðŸ‘‹, quiero comprar este combo directo:\n\nðŸš€ *${itemDirecto}*`;
                totalFinal = document.getElementById('modalTotal').innerText;
                mensaje += `\nðŸ’° *Precio: ${totalFinal}*`;
            }

            // Agregar la preferencia de pago al mensaje
            mensaje += `\n\n${textoPago}`;

            window.open(`https://wa.me/${telefono}?text=${encodeURIComponent(mensaje)}`, '_blank');
        }

        // Cerrar al hacer clic fuera
        window.onclick = function(e) { 
            if(e.target == document.getElementById('modalCheckout')) cerrarModal(); 
        }
    </script>
</body>
</html>

